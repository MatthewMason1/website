(function(){function t(e,n,o){function i(c,l){if(!n[c]){if(!e[c]){var s="function"==typeof require&&require;if(!l&&s)return s(c,!0);if(r)return r(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var a=n[c]={exports:{}};e[c][0].call(a.exports,function(t){var n=e[c][1][t];return i(n||t)},a,a.exports,t,e,n,o)}return n[c].exports}for(var r="function"==typeof require&&require,c=0;c<o.length;c++)i(o[c]);return i}return t})()({1:[function(t,e,n){(function(e){const n=t("./utils/modal.js"),o=function(t){return document.querySelector(t)};document.body.insertAdjacentHTML("beforeend",'<div class="modal-container"></div>');let i=new n({title:"Are you sure you want to log out?",description:"This session will be terminated",content:{buttons:[{text:"No",type:"cancel",action:function(){i.hide()}},{text:"Yes",type:"dangerous",action:function(){fetch("/api/v1/logout",{method:"POST",redirect:"follow"}).then(()=>{window.location.href="/"})}}]}});i.init(),o("#logOut").onclick=(()=>{i.show()}),o("#profileLink").onclick=(()=>{document.location.href="/profile?user="+document.getElementById("userID").value}),o("#settings").onclick=(()=>{document.location.href="/settings"}),e&&document.querySelector("body").classList.add(e.preferredTheme),document.location.search.replace("?","").split("=")[0]})(loggedIn)},{"./utils/modal.js":2}],2:[function(t,e,n){window.modal=void 0;class o{constructor(t){Object.assign(this,t),this.init=function(){function t(t){for(let e=0;e<t.length;e++){let n=document.createElement("INPUT");n.setAttribute("placeholder",t[e].placeholder),n.setAttribute("name",t[e].name),n.value=t[e].value||"",t[e].type&&n.setAttribute("type",t[e].type),n.oninput=(()=>{l.form.body[t[e].name]=n.value}),i.appendChild(n)}}function e(t){for(let e=0;e<t.length;e++){let n=document.createElement("BUTTON");n.innerHTML=t[e].text,n.onclick=t[e].action||function(){},"cancel"===t[e].type&&(n.onclick=(n=>{t[e].action&&t[e].action(n),l.hide()})),n.classList.add(t[e].type),r.appendChild(n)}}function n(t){for(let e=0;e<t.length;e++){let n=t[e];c.innerHTML+=n}}let o=document.createElement("DIV"),i=document.createElement("DIV"),r=document.createElement("DIV"),c=document.createElement("DIV");o.classList.add("modal"),i.classList.add("modal-actions"),r.classList.add("modal-buttons");for(const o in this.content)"inputs"==o?t(this.content.inputs):"buttons"==o?e(this.content.buttons):n(this.content[o]);let l=this;return o.innerHTML=`<h1>${this.title}</h1>\n            <p>${this.description||""}</p>`,o.appendChild(i),o.appendChild(c),o.appendChild(r),1===this.type&&(this.form.body={},o.getElementsByClassName("proceed")[0].onclick=(()=>{for(let t=0;t<l.form.inputs.length;t++){let e=l.form.inputs[t],n=document.getElementsByName(e)[0];n&&(l.form.body[e]=n.value)}fetch(this.form.action,{method:this.form.method,body:this.form.body}),this.hide})),this.modal=o,document.querySelector(".modal-container").appendChild(o),this},this.show=function(){return window.modal===this.title&&this.modal.classList.add("showing"),window.modal=this.title,document.querySelector(".modal-container").classList.add("overlay"),this},this.hide=function(t){let e=this.modal;return t&&(e=t),e.classList.remove("showing"),document.querySelector(".modal-container").classList.remove("overlay"),this}}}e.exports=o},{}]},{},[1]);